def Update(i, l, s):
  a = s[0:i]
  a.join(reversed)
  a += s[i+l:len(s)]
  print(a)
  return a

def Query(i, l ,s):
  a = 0
  max = 0
  for j in range(i, l +i):
    if (int(s[j]) ==1):
      a+=1
    else:
      if (a > max):
        max = a
      a = 0
  print(max)

a, b = input().split()
a = int(a)
b = int(b)

s = input()

for i in range(b):
  t, i, l = input().split()
  t = int(t)
  i = int(i)
  l = int(l)
  if t == 1:
    s = Update(i, l, s)
  else:
    Query(i,l,s)
